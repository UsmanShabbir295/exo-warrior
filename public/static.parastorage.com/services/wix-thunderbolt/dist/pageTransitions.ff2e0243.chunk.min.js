(self.webpackJsonp__wix_thunderbolt_app=self.webpackJsonp__wix_thunderbolt_app||[]).push([[1256],{11788:function(t,e,n){"use strict";n.r(e),n.d(e,{PageTransitionsCompletedSymbol:function(){return s.TR},PageTransitionsSymbol:function(){return s.M$},editor:function(){return P},editorPage:function(){return b},page:function(){return y}});var o=n(56510),i=n(25259),a=n(55437),s=n(67613),r=n(80928);const l=["type","alignType","fittingType","scrollType","colorOverlay","colorOverlayOpacity","color","videoId","uri","opacity"],c=(t,e,n,o)=>o.every((n=>(t&&t[n])===(e&&e[n])))&&n.every((i=>!t&&!e||c(t&&t[i],e&&e[i],n,o))),u=(0,o.ff)([(0,o.t6)(i.$e,s.u2),a.xP,s.TR,r.i,(0,o.t6)(i.Wf,s.u2)],((t,e,n,o,i)=>({componentTypes:["Page","PageBackground"],componentWillMount(a){const s=i.get(),r=!s||s.nextTransitionEnabled,u=!s||s.isFirstMount,p=null==s?void 0:s.pageBackground,d=t.pageBackground;if("Page"===a.componentType){const t=a.id;e.update({SITE_PAGES:{transitionEnabled:r,onTransitionStarting:()=>{o.getScrollYHistoryState()||o.scrollToTop()},onTransitionComplete:()=>{n.notifyPageTransitionsCompleted(t),o.getScrollYHistoryState()&&o.restoreScrollPosition()}}}),i.update((()=>Object.assign(Object.assign({},s),{isFirstMount:u,nextTransitionEnabled:!0})))}else{const t=r&&!((t,e)=>{if(!e||!t)return!1;const n=e.mediaRef,o=n&&n.type,i=t.mediaRef,a=i&&i.type,s=!n&&!i,r=s||o===a;let u=[...l];if("WixVideo"===o&&r){const t=u.indexOf("color");u.splice(t,1)}else s&&(u=["color"]);return r&&c(e,t,["mediaRef","imageOverlay"],u)})(d,p);e.update({BACKGROUND_GROUP:{transitionEnabled:t}}),i.update((()=>Object.assign(Object.assign({},s),{pageBackground:d,isFirstMount:u})))}}}))),p=(0,o.ff)([s.TR,(0,o.t6)(i.Wf,s.u2)],((t,e)=>({pageDidMount(n){const o=e.get();o&&!o.isFirstMount||t.notifyPageTransitionsCompleted(n),e.update((t=>Object.assign(Object.assign({},t),{isFirstMount:!1})))}}))),d=(0,o.ff)([(0,o.t6)(i.Wf,s.u2)],(t=>({disableNextTransition:()=>t.update((t=>Object.assign(Object.assign({},t),{nextTransitionEnabled:!1})))}))),g=(0,o.ff)([],(()=>{let t=[];return{onPageTransitionsCompleted:e=>{t.push(e)},notifyPageTransitionsCompleted:e=>{t.forEach((t=>t(e))),t=[]}}}));var f=n(13487),T=n(27451);const y=t=>{t(s.TR).to(g),t(s.M$).to(d),t(T.Vx).to(u),t(f.j.PageDidMountHandler).to(p)},b=t=>{t(T.Vx).to(u),t(f.j.PageDidMountHandler).to(p)},P=t=>{t(s.M$).to(d),t(s.TR).to(g)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/pageTransitions.ff2e0243.chunk.min.js.map